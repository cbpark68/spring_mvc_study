<?xml version="1.0" encoding="UTF-8"?>
<!-- <!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd"> -->
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
 <sqlMap namespace="JspSpace">

	<typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap" />
	<typeAlias alias="jspDeptVO" type="main.service.JspDeptVO"/>
	<typeAlias alias="jspEmpVO" type="main.service.JspEmpVO"/>

	<select id="jspDeptList" resultClass="egovMap">
		select deptno,dname,loc from dept order by deptno	
	</select>
	
	<insert id="jspDeptInsert">
		insert into dept (deptno,dname,loc) values (#deptno#,#dname#,#loc#)	
	</insert>

	<select id="jspDeptInfo" resultClass="jspDeptVO">
		select deptno,dname,loc from dept where deptno = #deptno#	
	</select>
	
	<update id="jspDeptUpdate">
		update dept set dname = #dname#,loc = #loc# where deptno = #deptno#	
	</update>
	
	<delete id="jspDeptDelete">
		delete from dept where deptno = #deptno#	
	</delete>
	
	<select id="jspDeptCount" resultClass="java.lang.Integer">
		select count(*) cnt from dept where deptno = #deptno#	
	</select>
	
	<insert id="jspEmpInsert">
		insert into emp (empno,ename,job,sal,hiredate,deptno)	
		values (#empno#,#ename#,#job#,#sal#,#hiredate#,#deptno#)	
	</insert>
	
	<select id="jspEmpIdCheck" resultClass="java.lang.Integer">
		select count(*) from emp where empno = #empno#	
	</select>
	
	<select id="jspEmpDeptnoCheck" resultClass="java.lang.Integer">
		select count(*) from dept where deptno = #deptno#	
	</select>
</sqlMap>

